\documentclass[10pt]{extarticle} % An extension of article to include 17pt font size
\usepackage{draftwatermark}

% Page layout - use geometry only
\usepackage[left=2cm, right=2cm, top=2cm, bottom=2cm]{geometry}

% Font and encoding (modern approach)
\usepackage{fontspec}  % Unicode support for LuaLaTeX
\usepackage{textgreek} % allows the use of Greek letters
% Set Helvetica as sans-serif font (original font for spearbit_web3)
% Fallback to Arial if Helvetica is not available
\setsansfont{Helvetica}[
  UprightFont = *,
  BoldFont = *-Bold,
  ItalicFont = *-Oblique,
  BoldItalicFont = *-BoldOblique
]
% If Helvetica is not found, fontspec will use a fallback
% To explicitly set a fallback, uncomment the following:
% \setsansfont{Helvetica}[
%   UprightFont = *,
%   BoldFont = *-Bold,
%   ItalicFont = *-Oblique,
%   BoldItalicFont = *-BoldOblique,
%   Extension = .ttf
% ]
\renewcommand{\familydefault}{\sfdefault}
\usepackage[helvet]{sfmath} % changes math style to sans serif

% Essential packages
\usepackage{parskip}
\usepackage{svg}
\usepackage[english]{babel}

% Math packages
\usepackage{amsmath,amsfonts,amsthm}
\usepackage{breqn}
\setlength{\mathindent}{0pt}
\allowdisplaybreaks[4]

% Graphics (let LaTeX auto-detect engine)
\usepackage{graphicx}
\usepackage[htt]{hyphenat}

% Colors and tables
\usepackage[table]{xcolor}
\definecolor{spearbitlink}{HTML}{000066}
\definecolor{cantinaplatinum}{HTML}{E7E5E3}
\definecolor{textbg}{HTML}{F5F5F5}
\usepackage{tcolorbox}
\usepackage{etoolbox}

% Code highlighting
\usepackage{minted}
\usemintedstyle{autumn}
% Set monospace font for minted to support Unicode
\setmonofont{DejaVu Sans Mono}[Scale=MatchLowercase]
\setminted{frame=single, rulecolor=cantinaplatinum, fontsize=\small, samepage=false, breaklines=true, breakanywhere}

% Table enhancements
\usepackage{needspace}
\usepackage{ltablex}
\keepXColumns
\usepackage{booktabs}

% Links
\usepackage[hyphens]{url}
\PassOptionsToPackage{hyphens}{url}\usepackage[hidelinks = true, colorlinks = true, linkcolor = black, urlcolor = spearbitlink]{hyperref}

% Redefine \texttt to add light gray background (tight fit, rounded corners)
% Must be after hyperref to work in TOC
\let\oldtexttt\texttt
\renewcommand{\texttt}[1]{%
  \tcbox[colback=textbg, colframe=textbg, boxrule=0pt, arc=3pt, left=1pt, right=1pt, top=0.5pt, bottom=0.5pt, on line, before skip=0pt, after skip=0pt, boxsep=0pt, nobeforeafter]{\oldtexttt{#1}}%
}

% Fixes and workarounds
\def\tightlist{}
\AtBeginEnvironment{cases}{\rowcolors{0}{}{}}
\setlength\emergencystretch{3cm}

% Minted fix for red boxes
\makeatletter
\AtBeginEnvironment{minted}{\dontdofcolorbox}
\def\dontdofcolorbox{\renewcommand\fcolorbox[4][]{##4}}
\makeatother

% workaround for filler: %

\begin{document}

    \input{title.tex}
    \clearpage

    \tableofcontents
    \clearpage

    \input{pre_report.tex}
    \clearpage

    \input{summary.tex}
    \clearpage

    \input{overview.tex}
    \clearpage

    \section{Findings}
    \rowcolors{2}{gray!10}{white}
    \input{report.tex}
    \clearpage

    \input{post_report.tex}

\end{document}
